10.06.15
reload server: sudo /etc/init.d/apache2 restart

01 - Установка Yii2 Framework на Windows. Yii Bacis Application. phpNT
=======================================================================

1. Открываем сайт http://yiiframework.com/downloads
2. Скачиваем архив 

https://github.com/yiisoft/yii2/releases/download/2.0.4/yii-basic-app-2.0.4.tgz

3. Распаковываем архив

4. Проверяем окружение 

http://localhost/basic/requirements.php

5. Конфигурируем секретный ключ безопасности в файле config/web.php

'components' => [
        'request' => [
            // !!! insert a secret key in the following (if it is empty) - this is required by cookie validation
            'cookieValidationKey' => 'UzbekYii2Programmer',

6. Запускаем стартовое окно
	http://localhost/basic/web/index.php


02 - Применение миграций в Yii2. phpNT
=========================================
1. Знакомимся с документацией 
```
http://www.yiiframework.com/doc-2.0/yii-db-querybuilder.html
http://www.yiiframework.com/doc-2.0/yii-db-querybuilder.html#createTable()-detail
http://www.yiiframework.com/doc-2.0/yii-db-querybuilder.html#getColumnType()-detail
```

2. Создаем новую базу данных yii2basic


3. Подключаем БД к приложению

```php
return [
    'class' => 'yii\db\Connection',
    'dsn' => 'mysql:host=localhost;dbname=yii2basic',
    'username' => 'root',
    'password' => 'your-password',
    'charset' => 'utf8',
```
4. Создаем файл миграции 
```
php yii migrate/create create_user_table
```
5. Редактируем файл миграции под свою таблицу
```
public function up()
    {
    	$table='user';
    	$columns=[
    		'id'=>'pk',
    		'password'=>'string NOT NULL',
    		'email'=>'string NOT NULL',
    	];

    	$this->createTable( $table, $columns, $options = null )
    }

    public function down()
    {
        $this->dropTable('user');
    }

```
6. Поднимаем миграцию
	```
	yii migrate
	```
7. Создаем файл миграции 
```
php yii migrate/create create_post_table
```
8. Редактируем файл миграции под свою таблицу
```
public function saveUp()
    {
 
    	$this->createTable( 
    		'post', 
    		[
    		'id'=>'pk',
    		'post'=>'text',
    		'user_id'=>'int',
    		]
    	);
    	$addForeignKey( 
    		'post_user_id', 
    		'post', 
    		'user_id', 
    		'user', 
    		'id' 
    	);
    }

    public function safeDown()
    {
        $this->dropTable('post');
    }

```
9. Поднимаем миграцию
	```
	yii migrate
	```
10. Просмотреть историю миграций 
```
yii migrate/history